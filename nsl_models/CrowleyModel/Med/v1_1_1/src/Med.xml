<module>
	<library>CrowleyModel</library>
	<name>Med</name>
	<version>1_1_1</version>
	<type>NslModule</type>
	<getCurrentVersion>true</getCurrentVersion>
	<arguments>int CorticalArraySize,int StriatalArraySize</arguments>
	<buffering>false</buffering>
	<imports>
	</imports>
	<variables>
		<variable type="InputPort">
			<name>FEFsac_in</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDinDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDinDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>E</signalType>
		</variable>
		<variable type="InputPort">
			<name>SNCdop_in</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDinDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDinDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>E</signalType>
		</variable>
		<variable type="InputPort">
			<name>PFCgo_in</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDinDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDinDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>E</signalType>
		</variable>
		<variable type="InputPort">
			<name>LIPmem_in</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDinDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDinDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>E</signalType>
		</variable>
		<variable type="OutputPort">
			<name>CDdirmedburst_out</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDoutDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDoutDouble2</type>
			<params>StriatalArraySize,StriatalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>O</signalType>
		</variable>
		<variable type="OutputPort">
			<name>SNRmedburst_out</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDoutDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDoutDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>O</signalType>
		</variable>
		<variable type="OutputPort">
			<name>CDmedinh_out</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDoutDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDoutDouble2</type>
			<params>StriatalArraySize,StriatalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>O</signalType>
		</variable>
		<variable type="OutputPort">
			<name>CDmedtan_out</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDoutDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDoutDouble2</type>
			<params>StriatalArraySize,StriatalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>O</signalType>
		</variable>
		<variable type="OutputPort">
			<name>CDindmedburst_out</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDoutDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDoutDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>O</signalType>
		</variable>
		<variable type="OutputPort">
			<name>GPEmedburst_out</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDoutDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDoutDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>O</signalType>
		</variable>
		<variable type="OutputPort">
			<name>STNmedburst_out</name>
			<access>public</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDoutDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDoutDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<buffering>false</buffering>
			<iconDirection>L</iconDirection>
			<schDirection>L</schDirection>
			<signalType>O</signalType>
		</variable>
		<variable type="SubModule">
			<name>cdmedinh</name>
			<access>public</access>
			<scope>local</scope>
			<type>CDmedinh</type>
			<params>CorticalArraySize,StriatalArraySize</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>cdmedtan</name>
			<access>public</access>
			<scope>local</scope>
			<type>CDmedtan</type>
			<params>CorticalArraySize,StriatalArraySize</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>cdmedburst</name>
			<access>public</access>
			<scope>local</scope>
			<type>CDmedburst</type>
			<params>CorticalArraySize,StriatalArraySize</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>gpemedburst</name>
			<access>public</access>
			<scope>local</scope>
			<type>GPEmedburst</type>
			<params>CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>stnmedburst</name>
			<access>public</access>
			<scope>local</scope>
			<type>STNmedburst</type>
			<params>CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>snrmedburst</name>
			<access>public</access>
			<scope>local</scope>
			<type>SNRmedburst</type>
			<params>CorticalArraySize,StriatalArraySize</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>medbulk1</name>
			<access>public</access>
			<scope>local</scope>
			<type>MedBulk</type>
			<params>CorticalArraySize,MaxConnections</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="BasicVariable">
			<name>CONSOLE_IO</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>boolean</categoryType>
			<dimensions>0</dimensions>
			<type>boolean</type>
			<params></params>
			<inits>false</inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>NumberIterations</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits>10</inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>FEFPatchCount</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>LIPPatchCount</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>PFCPatchCount</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>FEFPatchSize</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>LIPPatchSize</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>PFCPatchSize</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>FEFfill</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>double</categoryType>
			<dimensions>0</dimensions>
			<type>double</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>LIPfill</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>double</categoryType>
			<dimensions>0</dimensions>
			<type>double</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>PFCfill</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>double</categoryType>
			<dimensions>0</dimensions>
			<type>double</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>ConnectionChance</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>double</categoryType>
			<dimensions>0</dimensions>
			<type>double</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>LearnRate</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDouble</categoryType>
			<dimensions>0</dimensions>
			<type>NslDouble0</type>
			<params>.05</params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>MaxConnections</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits>50</inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>MaxCenters</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>int</categoryType>
			<dimensions>0</dimensions>
			<type>int</type>
			<params></params>
			<inits>16</inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>FEFsac_mirror</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>PFCgo_mirror</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>LIPmem_mirror</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslDouble</categoryType>
			<dimensions>2</dimensions>
			<type>NslDouble2</type>
			<params>CorticalArraySize,CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>FOVEAX</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslInt</categoryType>
			<dimensions>0</dimensions>
			<type>NslInt0</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="BasicVariable">
			<name>FOVEAY</name>
			<access>private</access>
			<scope>local</scope>
			<constant>false</constant>
			<categoryType>NslInt</categoryType>
			<dimensions>0</dimensions>
			<type>NslInt0</type>
			<params></params>
			<inits></inits>
			<comment></comment>
		</variable>
		<variable type="SubModule">
			<name>func</name>
			<access>public</access>
			<scope>local</scope>
			<type>Func</type>
			<params>CorticalArraySize</params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>LearnedElements</name>
			<access>public</access>
			<scope>local</scope>
			<type>_Element</type>
			<params></params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>UnlearnedElements</name>
			<access>public</access>
			<scope>local</scope>
			<type>_Element</type>
			<params></params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
		<variable type="SubModule">
			<name>Teacher</name>
			<access>public</access>
			<scope>local</scope>
			<type>_Element</type>
			<params></params>
			<inits></inits>
			<comment></comment>
			<library>CrowleyModel</library>
			<version>v1_1_1</version>
			<getCurrentVersion>true</getCurrentVersion>
		</variable>
	</variables>
	<icon>
		<library>CrowleyModel</library>
		<module>Med</module>
		<version>1_1_1</version>
		<bounds>
			<min>
				<x>0</x>
				<y>0</y>
			</min>
			<max>
				<x>128</x>
				<y>112</y>
			</max>
		</bounds>
		<shape>
			<min>
				<x>24</x>
				<y>0</y>
			</min>
			<max>
				<x>104</x>
				<y>112</y>
			</max>
		</shape>
		<parts>
			<part type="rect">
				<bounds>
					<min>
						<x>24</x>
						<y>0</y>
					</min>
					<max>
						<x>104</x>
						<y>112</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>24</x>
						<y>0</y>
					</coordinate>
					<coordinate>
						<x>104</x>
						<y>112</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDinDouble2">
				<name>FEFsac_in</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>E</signalType>
				<bounds>
					<min>
						<x>0</x>
						<y>8</y>
					</min>
					<max>
						<x>24</x>
						<y>8</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>0</x>
						<y>8</y>
					</coordinate>
					<coordinate>
						<x>24</x>
						<y>8</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDinDouble2">
				<name>SNCdop_in</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>E</signalType>
				<bounds>
					<min>
						<x>0</x>
						<y>40</y>
					</min>
					<max>
						<x>24</x>
						<y>40</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>0</x>
						<y>40</y>
					</coordinate>
					<coordinate>
						<x>24</x>
						<y>40</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDinDouble2">
				<name>PFCgo_in</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>E</signalType>
				<bounds>
					<min>
						<x>0</x>
						<y>72</y>
					</min>
					<max>
						<x>24</x>
						<y>72</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>0</x>
						<y>72</y>
					</coordinate>
					<coordinate>
						<x>24</x>
						<y>72</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDinDouble2">
				<name>LIPmem_in</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>E</signalType>
				<bounds>
					<min>
						<x>0</x>
						<y>104</y>
					</min>
					<max>
						<x>24</x>
						<y>104</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>0</x>
						<y>104</y>
					</coordinate>
					<coordinate>
						<x>24</x>
						<y>104</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDoutDouble2">
				<name>CDdirmedburst_out</name>
				<parameters>StriatalArraySize,StriatalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>O</signalType>
				<bounds>
					<min>
						<x>104</x>
						<y>8</y>
					</min>
					<max>
						<x>128</x>
						<y>8</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>104</x>
						<y>8</y>
					</coordinate>
					<coordinate>
						<x>128</x>
						<y>8</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDoutDouble2">
				<name>SNRmedburst_out</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>O</signalType>
				<bounds>
					<min>
						<x>104</x>
						<y>24</y>
					</min>
					<max>
						<x>128</x>
						<y>24</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>104</x>
						<y>24</y>
					</coordinate>
					<coordinate>
						<x>128</x>
						<y>24</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDoutDouble2">
				<name>CDmedinh_out</name>
				<parameters>StriatalArraySize,StriatalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>O</signalType>
				<bounds>
					<min>
						<x>104</x>
						<y>40</y>
					</min>
					<max>
						<x>128</x>
						<y>40</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>104</x>
						<y>40</y>
					</coordinate>
					<coordinate>
						<x>128</x>
						<y>40</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDoutDouble2">
				<name>CDmedtan_out</name>
				<parameters>StriatalArraySize,StriatalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>O</signalType>
				<bounds>
					<min>
						<x>104</x>
						<y>56</y>
					</min>
					<max>
						<x>128</x>
						<y>56</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>104</x>
						<y>56</y>
					</coordinate>
					<coordinate>
						<x>128</x>
						<y>56</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDoutDouble2">
				<name>CDindmedburst_out</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>O</signalType>
				<bounds>
					<min>
						<x>104</x>
						<y>72</y>
					</min>
					<max>
						<x>128</x>
						<y>72</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>104</x>
						<y>72</y>
					</coordinate>
					<coordinate>
						<x>128</x>
						<y>72</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDoutDouble2">
				<name>GPEmedburst_out</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>O</signalType>
				<bounds>
					<min>
						<x>104</x>
						<y>88</y>
					</min>
					<max>
						<x>128</x>
						<y>88</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>104</x>
						<y>88</y>
					</coordinate>
					<coordinate>
						<x>128</x>
						<y>88</y>
					</coordinate>
				</coordinates>
			</part>
			<part type="NslDoutDouble2">
				<name>STNmedburst_out</name>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<signalType>O</signalType>
				<bounds>
					<min>
						<x>104</x>
						<y>104</y>
					</min>
					<max>
						<x>128</x>
						<y>104</y>
					</max>
				</bounds>
				<color>-16711936</color>
				<coordinates>
					<coordinate>
						<x>104</x>
						<y>104</y>
					</coordinate>
					<coordinate>
						<x>128</x>
						<y>104</y>
					</coordinate>
				</coordinates>
			</part>
		</parts>
	</icon>
	<schematic>
		<inports>
			<inport>
				<name>FEFsac_in</name>
				<type>NslDinDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>48</x>
						<y>32</y>
					</corner>
					<corner>
						<x>60</x>
						<y>32</y>
					</corner>
					<corner>
						<x>72</x>
						<y>48</y>
					</corner>
					<corner>
						<x>60</x>
						<y>64</y>
					</corner>
					<corner>
						<x>48</x>
						<y>64</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>72</x>
						<y>48</y>
					</min>
					<max>
						<x>88</x>
						<y>48</y>
					</max>
				</bounds>
			</inport>
			<inport>
				<name>SNCdop_in</name>
				<type>NslDinDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>48</x>
						<y>168</y>
					</corner>
					<corner>
						<x>60</x>
						<y>168</y>
					</corner>
					<corner>
						<x>72</x>
						<y>184</y>
					</corner>
					<corner>
						<x>60</x>
						<y>200</y>
					</corner>
					<corner>
						<x>48</x>
						<y>200</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>72</x>
						<y>184</y>
					</min>
					<max>
						<x>88</x>
						<y>184</y>
					</max>
				</bounds>
			</inport>
			<inport>
				<name>PFCgo_in</name>
				<type>NslDinDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>48</x>
						<y>304</y>
					</corner>
					<corner>
						<x>60</x>
						<y>304</y>
					</corner>
					<corner>
						<x>72</x>
						<y>320</y>
					</corner>
					<corner>
						<x>60</x>
						<y>336</y>
					</corner>
					<corner>
						<x>48</x>
						<y>336</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>72</x>
						<y>320</y>
					</min>
					<max>
						<x>88</x>
						<y>320</y>
					</max>
				</bounds>
			</inport>
			<inport>
				<name>LIPmem_in</name>
				<type>NslDinDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>24</x>
						<y>408</y>
					</corner>
					<corner>
						<x>36</x>
						<y>408</y>
					</corner>
					<corner>
						<x>48</x>
						<y>424</y>
					</corner>
					<corner>
						<x>36</x>
						<y>440</y>
					</corner>
					<corner>
						<x>24</x>
						<y>440</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>48</x>
						<y>424</y>
					</min>
					<max>
						<x>64</x>
						<y>424</y>
					</max>
				</bounds>
			</inport>
		</inports>
		<outports>
			<outport>
				<name>CDdirmedburst_out</name>
				<type>NslDoutDouble2</type>
				<parameters>StriatalArraySize,StriatalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>880</x>
						<y>16</y>
					</corner>
					<corner>
						<x>892</x>
						<y>16</y>
					</corner>
					<corner>
						<x>904</x>
						<y>32</y>
					</corner>
					<corner>
						<x>892</x>
						<y>48</y>
					</corner>
					<corner>
						<x>880</x>
						<y>48</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>864</x>
						<y>32</y>
					</min>
					<max>
						<x>880</x>
						<y>32</y>
					</max>
				</bounds>
			</outport>
			<outport>
				<name>SNRmedburst_out</name>
				<type>NslDoutDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>880</x>
						<y>88</y>
					</corner>
					<corner>
						<x>892</x>
						<y>88</y>
					</corner>
					<corner>
						<x>904</x>
						<y>104</y>
					</corner>
					<corner>
						<x>892</x>
						<y>120</y>
					</corner>
					<corner>
						<x>880</x>
						<y>120</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>864</x>
						<y>104</y>
					</min>
					<max>
						<x>880</x>
						<y>104</y>
					</max>
				</bounds>
			</outport>
			<outport>
				<name>CDmedinh_out</name>
				<type>NslDoutDouble2</type>
				<parameters>StriatalArraySize,StriatalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>880</x>
						<y>160</y>
					</corner>
					<corner>
						<x>892</x>
						<y>160</y>
					</corner>
					<corner>
						<x>904</x>
						<y>176</y>
					</corner>
					<corner>
						<x>892</x>
						<y>192</y>
					</corner>
					<corner>
						<x>880</x>
						<y>192</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>864</x>
						<y>176</y>
					</min>
					<max>
						<x>880</x>
						<y>176</y>
					</max>
				</bounds>
			</outport>
			<outport>
				<name>CDmedtan_out</name>
				<type>NslDoutDouble2</type>
				<parameters>StriatalArraySize,StriatalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>880</x>
						<y>232</y>
					</corner>
					<corner>
						<x>892</x>
						<y>232</y>
					</corner>
					<corner>
						<x>904</x>
						<y>248</y>
					</corner>
					<corner>
						<x>892</x>
						<y>264</y>
					</corner>
					<corner>
						<x>880</x>
						<y>264</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>864</x>
						<y>248</y>
					</min>
					<max>
						<x>880</x>
						<y>248</y>
					</max>
				</bounds>
			</outport>
			<outport>
				<name>CDindmedburst_out</name>
				<type>NslDoutDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>880</x>
						<y>304</y>
					</corner>
					<corner>
						<x>892</x>
						<y>304</y>
					</corner>
					<corner>
						<x>904</x>
						<y>320</y>
					</corner>
					<corner>
						<x>892</x>
						<y>336</y>
					</corner>
					<corner>
						<x>880</x>
						<y>336</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>864</x>
						<y>320</y>
					</min>
					<max>
						<x>880</x>
						<y>320</y>
					</max>
				</bounds>
			</outport>
			<outport>
				<name>GPEmedburst_out</name>
				<type>NslDoutDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>880</x>
						<y>376</y>
					</corner>
					<corner>
						<x>892</x>
						<y>376</y>
					</corner>
					<corner>
						<x>904</x>
						<y>392</y>
					</corner>
					<corner>
						<x>892</x>
						<y>408</y>
					</corner>
					<corner>
						<x>880</x>
						<y>408</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>864</x>
						<y>392</y>
					</min>
					<max>
						<x>880</x>
						<y>392</y>
					</max>
				</bounds>
			</outport>
			<outport>
				<name>STNmedburst_out</name>
				<type>NslDoutDouble2</type>
				<parameters>CorticalArraySize,CorticalArraySize</parameters>
				<portDirection>L</portDirection>
				<corners>
					<corner>
						<x>880</x>
						<y>448</y>
					</corner>
					<corner>
						<x>892</x>
						<y>448</y>
					</corner>
					<corner>
						<x>904</x>
						<y>464</y>
					</corner>
					<corner>
						<x>892</x>
						<y>480</y>
					</corner>
					<corner>
						<x>880</x>
						<y>480</y>
					</corner>
				</corners>
				<bounds>
					<min>
						<x>864</x>
						<y>464</y>
					</min>
					<max>
						<x>880</x>
						<y>464</y>
					</max>
				</bounds>
			</outport>
		</outports>
		<textObjects>
		</textObjects>
		<icons>
			<iconInstance>
				<instanceName>cdmedtan</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters>CorticalArraySize,StriatalArraySize</parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>CDmedtan</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>248</x>
							<y>208</y>
						</min>
						<max>
							<x>384</x>
							<y>272</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>272</x>
							<y>208</y>
						</min>
						<max>
							<x>360</x>
							<y>272</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>24</x>
									<y>0</y>
								</min>
								<max>
									<x>112</x>
									<y>64</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>24</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>112</x>
									<y>64</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>SNCdop_in</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>16</y>
								</min>
								<max>
									<x>24</x>
									<y>16</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>16</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>16</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>CDmedinh_in</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>48</y>
								</min>
								<max>
									<x>24</x>
									<y>48</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>48</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>48</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble2">
							<name>CDmedtan_out</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>112</x>
									<y>32</y>
								</min>
								<max>
									<x>136</x>
									<y>32</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>112</x>
									<y>32</y>
								</coordinate>
								<coordinate>
									<x>136</x>
									<y>32</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>gpemedburst</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters>CorticalArraySize</parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>GPEmedburst</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>680</x>
							<y>280</y>
						</min>
						<max>
							<x>816</x>
							<y>328</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>704</x>
							<y>280</y>
						</min>
						<max>
							<x>792</x>
							<y>328</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>24</x>
									<y>0</y>
								</min>
								<max>
									<x>112</x>
									<y>48</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>24</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>112</x>
									<y>48</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble2">
							<name>GPEmedburst_out</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>112</x>
									<y>24</y>
								</min>
								<max>
									<x>136</x>
									<y>24</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>112</x>
									<y>24</y>
								</coordinate>
								<coordinate>
									<x>136</x>
									<y>24</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>CDindmedburst_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>24</y>
								</min>
								<max>
									<x>24</x>
									<y>24</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>24</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>24</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>stnmedburst</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters>CorticalArraySize</parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>STNmedburst</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>680</x>
							<y>400</y>
						</min>
						<max>
							<x>808</x>
							<y>448</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>704</x>
							<y>400</y>
						</min>
						<max>
							<x>784</x>
							<y>448</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>24</x>
									<y>0</y>
								</min>
								<max>
									<x>104</x>
									<y>48</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>24</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>104</x>
									<y>48</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>GPEmedburst_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>24</y>
								</min>
								<max>
									<x>24</x>
									<y>24</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>24</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>24</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble2">
							<name>STNmedburst_out</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>104</x>
									<y>24</y>
								</min>
								<max>
									<x>128</x>
									<y>24</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>104</x>
									<y>24</y>
								</coordinate>
								<coordinate>
									<x>128</x>
									<y>24</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>cdmedburst</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters>CorticalArraySize,StriatalArraySize</parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>CDmedburst</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>528</x>
							<y>40</y>
						</min>
						<max>
							<x>648</x>
							<y>248</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>552</x>
							<y>40</y>
						</min>
						<max>
							<x>624</x>
							<y>248</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>24</x>
									<y>0</y>
								</min>
								<max>
									<x>96</x>
									<y>208</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>24</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>208</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>PFCgo_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>8</y>
								</min>
								<max>
									<x>24</x>
									<y>8</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>8</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>8</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>FEFsac_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>24</y>
								</min>
								<max>
									<x>24</x>
									<y>24</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>24</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>24</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>LIPmem_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>40</y>
								</min>
								<max>
									<x>24</x>
									<y>40</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>40</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>40</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>SNCdop_in</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>56</y>
								</min>
								<max>
									<x>24</x>
									<y>56</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>56</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>56</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>CDmedtan_in</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>72</y>
								</min>
								<max>
									<x>24</x>
									<y>72</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>72</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>72</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>SNRMapCount_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>88</y>
								</min>
								<max>
									<x>24</x>
									<y>88</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>88</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>88</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>FEFxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>104</y>
								</min>
								<max>
									<x>24</x>
									<y>104</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>104</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>104</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>FEFymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>120</y>
								</min>
								<max>
									<x>24</x>
									<y>120</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>120</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>120</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>LIPxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>136</y>
								</min>
								<max>
									<x>24</x>
									<y>136</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>136</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>136</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>LIPymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>152</y>
								</min>
								<max>
									<x>24</x>
									<y>152</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>152</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>152</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>PFCxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>168</y>
								</min>
								<max>
									<x>24</x>
									<y>168</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>168</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>168</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>PFCymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>184</y>
								</min>
								<max>
									<x>24</x>
									<y>184</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>184</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>184</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>SNRweights_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>200</y>
								</min>
								<max>
									<x>24</x>
									<y>200</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>200</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>200</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble2">
							<name>CDindmedburst_out</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>96</x>
									<y>64</y>
								</min>
								<max>
									<x>120</x>
									<y>64</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>96</x>
									<y>64</y>
								</coordinate>
								<coordinate>
									<x>120</x>
									<y>64</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble2">
							<name>CDdirmedburst_out</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>96</x>
									<y>136</y>
								</min>
								<max>
									<x>120</x>
									<y>136</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>96</x>
									<y>136</y>
								</coordinate>
								<coordinate>
									<x>120</x>
									<y>136</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>cdmedinh</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters>CorticalArraySize,StriatalArraySize</parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>CDmedinh</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>232</x>
							<y>48</y>
						</min>
						<max>
							<x>368</x>
							<y>160</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>256</x>
							<y>48</y>
						</min>
						<max>
							<x>344</x>
							<y>160</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>24</x>
									<y>0</y>
								</min>
								<max>
									<x>112</x>
									<y>112</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>24</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>112</x>
									<y>112</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>FEFxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>16</y>
								</min>
								<max>
									<x>24</x>
									<y>16</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>16</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>16</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>FEFymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>32</y>
								</min>
								<max>
									<x>24</x>
									<y>32</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>32</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>32</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>LIPxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>48</y>
								</min>
								<max>
									<x>24</x>
									<y>48</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>48</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>48</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>LIPymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>64</y>
								</min>
								<max>
									<x>24</x>
									<y>64</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>64</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>64</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>FEFsac_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>80</y>
								</min>
								<max>
									<x>24</x>
									<y>80</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>80</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>80</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>LIPmem_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>96</y>
								</min>
								<max>
									<x>24</x>
									<y>96</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>96</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>96</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble2">
							<name>CDmedinh_out</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>112</x>
									<y>56</y>
								</min>
								<max>
									<x>136</x>
									<y>56</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>112</x>
									<y>56</y>
								</coordinate>
								<coordinate>
									<x>136</x>
									<y>56</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>snrmedburst</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters>CorticalArraySize,StriatalArraySize</parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>SNRmedburst</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>0</x>
							<y>0</y>
						</min>
						<max>
							<x>128</x>
							<y>136</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>24</x>
							<y>0</y>
						</min>
						<max>
							<x>104</x>
							<y>136</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>24</x>
									<y>0</y>
								</min>
								<max>
									<x>104</x>
									<y>136</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>24</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>104</x>
									<y>136</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt2">
							<name>SNRMapCount_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>8</y>
								</min>
								<max>
									<x>24</x>
									<y>8</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>8</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>8</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble3">
							<name>SNRweights_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>32</y>
								</min>
								<max>
									<x>24</x>
									<y>32</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>32</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>32</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>SNRxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>56</y>
								</min>
								<max>
									<x>24</x>
									<y>56</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>56</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>56</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinInt3">
							<name>SNRymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>80</y>
								</min>
								<max>
									<x>24</x>
									<y>80</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>80</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>80</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>STNmedburst_in</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>104</y>
								</min>
								<max>
									<x>24</x>
									<y>104</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>104</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>104</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDinDouble2">
							<name>CDdirmedburst_in</name>
							<parameters>StriatalArraySize,StriatalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>E</signalType>
							<bounds>
								<min>
									<x>0</x>
									<y>128</y>
								</min>
								<max>
									<x>24</x>
									<y>128</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>128</y>
								</coordinate>
								<coordinate>
									<x>24</x>
									<y>128</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble2">
							<name>SNRmedburst_out</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>104</x>
									<y>64</y>
								</min>
								<max>
									<x>128</x>
									<y>64</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>104</x>
									<y>64</y>
								</coordinate>
								<coordinate>
									<x>128</x>
									<y>64</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>medbulk1</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters>CorticalArraySize,MaxConnections</parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>MedBulk</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>272</x>
							<y>312</y>
						</min>
						<max>
							<x>368</x>
							<y>472</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>272</x>
							<y>312</y>
						</min>
						<max>
							<x>344</x>
							<y>472</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>0</x>
									<y>0</y>
								</min>
								<max>
									<x>72</x>
									<y>160</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>72</x>
									<y>160</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt2">
							<name>SNRMapCount_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>8</y>
								</min>
								<max>
									<x>96</x>
									<y>8</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>8</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>8</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutDouble3">
							<name>SNRweights_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>24</y>
								</min>
								<max>
									<x>96</x>
									<y>24</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>24</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>24</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>SNRxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>40</y>
								</min>
								<max>
									<x>96</x>
									<y>40</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>40</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>40</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>SNRymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>56</y>
								</min>
								<max>
									<x>96</x>
									<y>56</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>56</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>56</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>FEFxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>72</y>
								</min>
								<max>
									<x>96</x>
									<y>72</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>72</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>72</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>FEFymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>88</y>
								</min>
								<max>
									<x>96</x>
									<y>88</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>88</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>88</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>LIPxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>104</y>
								</min>
								<max>
									<x>96</x>
									<y>104</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>104</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>104</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>LIPymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>120</y>
								</min>
								<max>
									<x>96</x>
									<y>120</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>120</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>120</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>PFCxmap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>136</y>
								</min>
								<max>
									<x>96</x>
									<y>136</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>136</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>136</y>
								</coordinate>
							</coordinates>
						</part>
						<part type="NslDoutInt3">
							<name>PFCymap_bulk</name>
							<parameters>CorticalArraySize,CorticalArraySize,MaxConnections</parameters>
							<portDirection>L</portDirection>
							<signalType>O</signalType>
							<bounds>
								<min>
									<x>72</x>
									<y>152</y>
								</min>
								<max>
									<x>96</x>
									<y>152</y>
								</max>
							</bounds>
							<color>-16711936</color>
							<coordinates>
								<coordinate>
									<x>72</x>
									<y>152</y>
								</coordinate>
								<coordinate>
									<x>96</x>
									<y>152</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>Teacher</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters></parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>_Element</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>336</x>
							<y>512</y>
						</min>
						<max>
							<x>436</x>
							<y>612</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>336</x>
							<y>512</y>
						</min>
						<max>
							<x>436</x>
							<y>612</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>0</x>
									<y>0</y>
								</min>
								<max>
									<x>100</x>
									<y>100</y>
								</max>
							</bounds>
							<color>-1</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>100</x>
									<y>100</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>LearnedElements</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters></parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>_Element</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>200</x>
							<y>512</y>
						</min>
						<max>
							<x>300</x>
							<y>612</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>200</x>
							<y>512</y>
						</min>
						<max>
							<x>300</x>
							<y>612</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>0</x>
									<y>0</y>
								</min>
								<max>
									<x>100</x>
									<y>100</y>
								</max>
							</bounds>
							<color>-1</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>100</x>
									<y>100</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
			<iconInstance>
				<instanceName>UnlearnedElements</instanceName>
				<getCurrentVersion>true</getCurrentVersion>
				<parameters></parameters>
				<icon>
					<library>CrowleyModel</library>
					<module>_Element</module>
					<version>1_1_1</version>
					<bounds>
						<min>
							<x>64</x>
							<y>512</y>
						</min>
						<max>
							<x>164</x>
							<y>612</y>
						</max>
					</bounds>
					<shape>
						<min>
							<x>64</x>
							<y>512</y>
						</min>
						<max>
							<x>164</x>
							<y>612</y>
						</max>
					</shape>
					<parts>
						<part type="rect">
							<bounds>
								<min>
									<x>0</x>
									<y>0</y>
								</min>
								<max>
									<x>100</x>
									<y>100</y>
								</max>
							</bounds>
							<color>-1</color>
							<coordinates>
								<coordinate>
									<x>0</x>
									<y>0</y>
								</coordinate>
								<coordinate>
									<x>100</x>
									<y>100</y>
								</coordinate>
							</coordinates>
						</part>
					</parts>
				</icon>
			</iconInstance>
		</icons>
		<connections>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>88</x>
					<y>48</y>
				</vertex>
				<vertex>
					<x>232</x>
					<y>128</y>
				</vertex>
			</vertices>
			<sourcePort type="inport">
				<name>FEFsac_in</name>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedinh</name>
				<portIndex>5</portIndex>
				<portName>FEFsac_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>88</x>
					<y>48</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>64</y>
				</vertex>
			</vertices>
			<sourcePort type="inport">
				<name>FEFsac_in</name>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>2</portIndex>
				<portName>FEFsac_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>64</x>
					<y>424</y>
				</vertex>
				<vertex>
					<x>232</x>
					<y>144</y>
				</vertex>
			</vertices>
			<sourcePort type="inport">
				<name>LIPmem_in</name>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedinh</name>
				<portIndex>6</portIndex>
				<portName>LIPmem_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>64</x>
					<y>424</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>80</y>
				</vertex>
			</vertices>
			<sourcePort type="inport">
				<name>LIPmem_in</name>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>3</portIndex>
				<portName>LIPmem_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>88</x>
					<y>184</y>
				</vertex>
				<vertex>
					<x>248</x>
					<y>224</y>
				</vertex>
			</vertices>
			<sourcePort type="inport">
				<name>SNCdop_in</name>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedtan</name>
				<portIndex>1</portIndex>
				<portName>SNCdop_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>88</x>
					<y>184</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>96</y>
				</vertex>
			</vertices>
			<sourcePort type="inport">
				<name>SNCdop_in</name>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>4</portIndex>
				<portName>SNCdop_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>88</x>
					<y>320</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>48</y>
				</vertex>
			</vertices>
			<sourcePort type="inport">
				<name>PFCgo_in</name>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>1</portIndex>
				<portName>PFCgo_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>104</y>
				</vertex>
				<vertex>
					<x>248</x>
					<y>256</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedinh</name>
				<portIndex>7</portIndex>
				<portName>CDmedinh_out</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedtan</name>
				<portIndex>2</portIndex>
				<portName>CDmedinh_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>384</x>
					<y>240</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>112</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedtan</name>
				<portIndex>3</portIndex>
				<portName>CDmedtan_out</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>5</portIndex>
				<portName>CDmedtan_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>648</x>
					<y>104</y>
				</vertex>
				<vertex>
					<x>680</x>
					<y>304</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedburst</name>
				<portIndex>14</portIndex>
				<portName>CDindmedburst_out</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>gpemedburst</name>
				<portIndex>2</portIndex>
				<portName>CDindmedburst_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>648</x>
					<y>176</y>
				</vertex>
				<vertex>
					<x>0</x>
					<y>128</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedburst</name>
				<portIndex>15</portIndex>
				<portName>CDdirmedburst_out</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>snrmedburst</name>
				<portIndex>6</portIndex>
				<portName>CDdirmedburst_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>816</x>
					<y>304</y>
				</vertex>
				<vertex>
					<x>680</x>
					<y>424</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>gpemedburst</name>
				<portIndex>1</portIndex>
				<portName>GPEmedburst_out</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>stnmedburst</name>
				<portIndex>1</portIndex>
				<portName>GPEmedburst_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>808</x>
					<y>424</y>
				</vertex>
				<vertex>
					<x>0</x>
					<y>104</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>stnmedburst</name>
				<portIndex>2</portIndex>
				<portName>STNmedburst_out</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>snrmedburst</name>
				<portIndex>5</portIndex>
				<portName>STNmedburst_in</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>320</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>128</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>1</portIndex>
				<portName>SNRMapCount_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>6</portIndex>
				<portName>SNRMapCount_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>384</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>144</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>5</portIndex>
				<portName>FEFxmap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>7</portIndex>
				<portName>FEFxmap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>400</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>160</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>6</portIndex>
				<portName>FEFymap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>8</portIndex>
				<portName>FEFymap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>416</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>176</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>7</portIndex>
				<portName>LIPxmap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>9</portIndex>
				<portName>LIPxmap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>432</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>192</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>8</portIndex>
				<portName>LIPymap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>10</portIndex>
				<portName>LIPymap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>448</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>208</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>9</portIndex>
				<portName>PFCxmap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>11</portIndex>
				<portName>PFCxmap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>464</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>224</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>10</portIndex>
				<portName>PFCymap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>12</portIndex>
				<portName>PFCymap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>336</y>
				</vertex>
				<vertex>
					<x>528</x>
					<y>240</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>2</portIndex>
				<portName>SNRweights_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedburst</name>
				<portIndex>13</portIndex>
				<portName>SNRweights_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>384</y>
				</vertex>
				<vertex>
					<x>232</x>
					<y>64</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>5</portIndex>
				<portName>FEFxmap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedinh</name>
				<portIndex>1</portIndex>
				<portName>FEFxmap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>400</y>
				</vertex>
				<vertex>
					<x>232</x>
					<y>80</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>6</portIndex>
				<portName>FEFymap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedinh</name>
				<portIndex>2</portIndex>
				<portName>FEFymap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>416</y>
				</vertex>
				<vertex>
					<x>232</x>
					<y>96</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>7</portIndex>
				<portName>LIPxmap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedinh</name>
				<portIndex>3</portIndex>
				<portName>LIPxmap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>432</y>
				</vertex>
				<vertex>
					<x>232</x>
					<y>112</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>8</portIndex>
				<portName>LIPymap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>cdmedinh</name>
				<portIndex>4</portIndex>
				<portName>LIPymap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>320</y>
				</vertex>
				<vertex>
					<x>0</x>
					<y>8</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>1</portIndex>
				<portName>SNRMapCount_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>snrmedburst</name>
				<portIndex>1</portIndex>
				<portName>SNRMapCount_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>336</y>
				</vertex>
				<vertex>
					<x>0</x>
					<y>32</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>2</portIndex>
				<portName>SNRweights_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>snrmedburst</name>
				<portIndex>2</portIndex>
				<portName>SNRweights_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>352</y>
				</vertex>
				<vertex>
					<x>0</x>
					<y>56</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>3</portIndex>
				<portName>SNRxmap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>snrmedburst</name>
				<portIndex>3</portIndex>
				<portName>SNRxmap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>368</y>
				</vertex>
				<vertex>
					<x>0</x>
					<y>80</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>medbulk1</name>
				<portIndex>4</portIndex>
				<portName>SNRymap_bulk</portName>
			</sourcePort>
			<destinationPort type="icon">
				<name>snrmedburst</name>
				<portIndex>4</portIndex>
				<portName>SNRymap_bulk</portName>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>128</x>
					<y>64</y>
				</vertex>
				<vertex>
					<x>864</x>
					<y>104</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>snrmedburst</name>
				<portIndex>7</portIndex>
				<portName>SNRmedburst_out</portName>
			</sourcePort>
			<destinationPort type="outport">
				<name>SNRmedburst_out</name>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>368</x>
					<y>104</y>
				</vertex>
				<vertex>
					<x>864</x>
					<y>176</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedinh</name>
				<portIndex>7</portIndex>
				<portName>CDmedinh_out</portName>
			</sourcePort>
			<destinationPort type="outport">
				<name>CDmedinh_out</name>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>384</x>
					<y>240</y>
				</vertex>
				<vertex>
					<x>864</x>
					<y>248</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedtan</name>
				<portIndex>3</portIndex>
				<portName>CDmedtan_out</portName>
			</sourcePort>
			<destinationPort type="outport">
				<name>CDmedtan_out</name>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>648</x>
					<y>104</y>
				</vertex>
				<vertex>
					<x>864</x>
					<y>320</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedburst</name>
				<portIndex>14</portIndex>
				<portName>CDindmedburst_out</portName>
			</sourcePort>
			<destinationPort type="outport">
				<name>CDindmedburst_out</name>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>816</x>
					<y>304</y>
				</vertex>
				<vertex>
					<x>864</x>
					<y>392</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>gpemedburst</name>
				<portIndex>1</portIndex>
				<portName>GPEmedburst_out</portName>
			</sourcePort>
			<destinationPort type="outport">
				<name>GPEmedburst_out</name>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>808</x>
					<y>424</y>
				</vertex>
				<vertex>
					<x>864</x>
					<y>464</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>stnmedburst</name>
				<portIndex>2</portIndex>
				<portName>STNmedburst_out</portName>
			</sourcePort>
			<destinationPort type="outport">
				<name>STNmedburst_out</name>
			</destinationPort>
			</connection>
			<connection>
			<color>-16711936</color>
			<vertices number="2">
				<vertex>
					<x>648</x>
					<y>176</y>
				</vertex>
				<vertex>
					<x>864</x>
					<y>32</y>
				</vertex>
			</vertices>
			<sourcePort type="icon">
				<name>cdmedburst</name>
				<portIndex>15</portIndex>
				<portName>CDdirmedburst_out</portName>
			</sourcePort>
			<destinationPort type="outport">
				<name>CDdirmedburst_out</name>
			</destinationPort>
			</connection>
		</connections>
	</schematic>
	<nslm>
		<extends></extends>
		<extendsParams></extendsParams>
		<implements></implements>
		<comment> Med class
 Represents the Medial Circuit
 @see     Med
 @version 0.1 96/11/19
 @author 
 -var public FEFsac_in - input coming from FEF module (of type NslDouble2)&lt;p&gt;
 -var public LIPmem_in - input coming from LIP module (of type NslDouble2)&lt;p&gt;
 -var public SNCdop_in - input coming from SNC module (of type NslDouble2)&lt;p&gt;
 -var public PFCgo_in - input coming from PFC module (of type NslDouble2)&lt;p&gt;
 -var public SNRmedburst_out - output going to Thal module (of type NslDouble2)&lt;p&gt;</comment>
		<methods>public void initModule() 
{
	FOVEAX=(NslInt0)nslGetValue("crowleyModel.FOVEAX");
	FOVEAY=(NslInt0)nslGetValue("crowleyModel.FOVEAY");
	verbatim_NSLJ;
	Teacher=new _Element("Teacher",this);
	Teacher.initElement();
	LearnedElements= new _Element("LearnedElements",this) ;
	LearnedElements.initElement();
	UnlearnedElements= new _Element("UnlearnedElements",this) ;
	UnlearnedElements.initElement();

	verbatim_off;
}

public void initRun () 
{
	MakeMapping(medbulk1);
	TestConnections();
	TestFoveaMapping();
	learnNewElements();
}

public void MakeMapping(MedBulk medbulk1) 
{
	int i, j, temp;
    
	int[][] FEFCenters = new int[MaxCenters][2];
	int[][] LIPCenters = new int[MaxCenters][2];
	int[][] PFCCenters = new int[MaxCenters][2];
	int FEFoffset, LIPoffset, PFCoffset;
 
	int iMinCell, jMinCell, MapSize;
 
	int overcrowded = 0;
	int FEFcount    = 0;
	int LIPcount    = 0;
	int PFCcount    = 0;

	MappingParameters();

	FEFoffset = FEFPatchSize /2;
	LIPoffset = LIPPatchSize /2;
	PFCoffset = PFCPatchSize /2;

	MapSize = StriatalArraySize /3;
	for(i=0; i&lt;CorticalArraySize; i++) 
	{
		iMinCell = (i/3) * MapSize;
		for(j=0; j&lt;CorticalArraySize; j++) 
		{
			jMinCell = (j/3) * MapSize;
			CalcCentroids(FEFPatchCount, FEFCenters, iMinCell, jMinCell, MapSize);
			CalcCentroids(LIPPatchCount, LIPCenters, iMinCell, jMinCell, MapSize);
			CalcCentroids(PFCPatchCount, PFCCenters, iMinCell, jMinCell, MapSize);
			/* Establish the nslConnectectivity between each cortical
			   region and the caudate using the region centers
			   and the calculated offsets.
			*/
			PFCcount += MakeConnections(PFCCenters, PFCoffset, medbulk1.PFCxmap_bulk.get(), medbulk1.PFCymap_bulk.get(),
							PFCfill, i, j);
			FEFcount += MakeConnections(FEFCenters, FEFoffset, medbulk1.FEFxmap_bulk.get(), medbulk1.FEFymap_bulk.get(),
			  FEFfill, i, j);
			LIPcount += MakeConnections(LIPCenters, LIPoffset, medbulk1.LIPxmap_bulk.get(), medbulk1.LIPymap_bulk.get(), 
			  LIPfill, i, j);
		}
	}

	/* Establish the direct path mapping from CD to SNr */
	SNRMapping(medbulk1,medbulk1.FEFxmap_bulk.get(), medbulk1.FEFymap_bulk.get(), FEFPatchCount, MapSize);
	SNRMapping(medbulk1,medbulk1.LIPxmap_bulk.get(), medbulk1.LIPymap_bulk.get(), LIPPatchCount, MapSize);
	SNRMapping(medbulk1,medbulk1.PFCxmap_bulk.get(), medbulk1.PFCymap_bulk.get(), PFCPatchCount, MapSize);

	// Output each cortical nslConnectection array for comparison purposes
	OutputMapping(medbulk1.PFCxmap_bulk.get(), medbulk1.PFCymap_bulk.get());
	OutputMapping(medbulk1.FEFxmap_bulk.get(), medbulk1.FEFymap_bulk.get());
	OutputMapping(medbulk1.LIPxmap_bulk.get(), medbulk1.LIPymap_bulk.get());
}

// See FUNC(MappingParameters)
public void MappingParameters() 
{
	if (!CONSOLE_IO) 
	{
		MappingParameters(9, 3, 0.5, 0.5, 0.05);
		return;
	}
	LIPPatchCount = FEFPatchCount = PFCPatchCount = nslj.src.system.Console.readInt("Enter the number of patches (max 16) &gt; ");

	LIPPatchSize = FEFPatchSize = PFCPatchSize = nslj.src.system.Console.readInt("Enter patch size &gt; ");

	LIPfill = FEFfill = PFCfill = nslj.src.system.Console.readDouble("Enter fill ratio &gt; ");

	ConnectionChance = nslj.src.system.Console.readDouble("Enter nslConnectection percentage (0-1) &gt; ");
	LearnRate.set(nslj.src.system.Console.readDouble("Enter learning rate (~0.05) &gt;"));
	//99/8/8 aa: added line above : a value of 0.05 does not agree
	// with what is in Element.mod. Element.mod has .005.
}  

public void MappingParameters(int count, int size, double fill,double nslConnectection, double learn) 
{
	LIPPatchCount = FEFPatchCount = PFCPatchCount = count;
	LIPPatchSize = FEFPatchSize = PFCPatchSize = size;
	LIPfill = FEFfill = PFCfill = fill;
	ConnectionChance = nslConnectection;
	LearnRate.set(learn);
}

public void CalcCentroids(int count, int[][] arr, int imin, int jmin, int size) 
{
	int i, j, area, side;

	side = (int)java.lang.Math.sqrt(count);
	area = size / side;

	for (i=0; i&lt;side; i++ ) 
	{
		for (j=0; j&lt;side; j++) 
		{
			arr[i*side+j][0] = (int)(nslRandom()*area + (area*i)+ imin);
			arr[i*side+j][1] = (int)(nslRandom()*area + (area*j)+jmin);
		}
	}
}

public int MakeConnections(int[][] centers, int offset, int[][][] xmap, int[][][] ymap, double fill, int iindex, int jindex) 
{
	int count, xstart, ystart, xend, yend;
	int i, j;
	int[] _savei;
	int[] _savej;
	int ptr;
	double temp;
	count = 0;
	ptr = 0;

	int[][] CDtemp = new int[StriatalArraySize][StriatalArraySize];

	// very dirty trick, don't try it at home
	_savei=new int[1];
	_savej=new int[1];

	while (centers[count][0]!=0 || centers[count][1]!=0) 
	{
		// Loop while nonzero values exist in centers
		xstart = (centers[count][0]-offset&gt;0)? centers[count][0]-offset: 0;
		ystart = (centers[count][1]-offset&gt;0)? centers[count][1]-offset: 0;
		xend = (centers[count][0]+offset+1&lt;StriatalArraySize-1)? centers[count][0]+offset+1:StriatalArraySize-1;
		yend = (centers[count][1]+offset+1&lt;StriatalArraySize-1)? centers[count][1]+offset+1:StriatalArraySize-1;

		for(i=xstart; i&lt;xend; i++)
		{
			for(j=ystart; j&lt;yend; j++) 
			{
				// Determine nslConnectections
				temp = nslRandom();
				if ((temp &lt; fill) &amp;&amp; (ptr&lt;MaxConnections)) 
				{
					if(CDtemp[i][j] == 0) 
					{
						CDtemp[i][j]++;
						xmap[iindex][jindex][ptr] = i;
						ymap[iindex][jindex][ptr] = j;
						ptr++;
					}
					else 
					{
						_savei[0]=0;
						_savej[0] = 0;
						if(CheckNeighbors(CDtemp, i, j,StriatalArraySize, _savei, _savej)) 
						{
							CDtemp[_savei[0]][_savej[0]]++;
							xmap[iindex][jindex][ptr] = _savei[0];
							ymap[iindex][jindex][ptr] = _savej[0];
							ptr++;
						}
					}
				}
			}
		}
		count++;
	}
	return ptr;
}
  
public boolean CheckNeighbors( int[][] arr, int x, int y, int max, int[] outx, int[] outy) 
{
	int index, xindex, yindex;
	int[] xarr= {-1, 0, 1, 1, 1, 0,-1,-1};
	int[] yarr= {-1,-1,-1, 0, 1, 1, 1, 0};
	int count;
	count = 0;
	index = (int)(nslRandom()*8);

	while ((count&lt;8)) 
	{
		xindex = minmax( x+xarr[index], 0, max-1);
		yindex = minmax(y+yarr[index],0,max-1);
		if (arr[xindex][yindex]==0) 
		{
			outx[0] = xindex;
			outy[0] = yindex;
			return true;
		}
		count++;
		index = (index+1)%8;
	} 
	return false;
}

public int SNRMapping(MedBulk medbulk1, int[][][] xmap, int[][][] ymap, int numzones, int size) 
{
	/*
	This function maps the CD nslConnectections to the SNr
	size contains the length of each side of a CD zone.
	*/
	int i, j, k, l, kindex;
	int ptr;

	int numside = (int)java.lang.Math.sqrt(numzones);
	int zonesize =(int)( size / numside ) ;
	int imin, jmin, xDiff, yDiff;
	int izone, jzone;
	int SNRsize = 3;
	int SNRimin, SNRjmin, SNRimax, SNRjmax;
    
	int[][] temparr = new int[3][3];
	int numloc = 0;

	// added for repeated initialization \\
	for(i=0; i&lt;CorticalArraySize; i++ )  
	{
		for(j=0; j&lt;CorticalArraySize; j++ )  
		{ 
			medbulk1.SNRMapCount_bulk.set(i,j, 0);
		}	
	}	

	for(i=0; i&lt;CorticalArraySize; i++ )  
	{
		for(j=0; j&lt;CorticalArraySize; j++ )  
		{ 
			// First task is to read each xmap, ymap value and determine the
			// CD zone to which they belong.  Then determine which subzone
			// within that zone.  Last job is to then populate the SNr neurons
			// in the corresponding SNr zone with this CD nslConnectection.
			ptr = 0;
			while ((ptr&lt;MaxConnections)&amp;&amp;(( xmap[i][j][ptr]!=0) || (ymap[i][j][ptr]!=0))) 
			{
				numloc++;
				// Have a single xmap,ymap value.  Determine subzone in CD.
				imin    = (i/3) * size;
				jmin = (j/3) * size;
				xDiff = xmap[i][j][ptr] - imin;
				yDiff = ymap[i][j][ptr] - jmin;
				izone   = minmax( xDiff / zonesize, 0, numside-1 );
				jzone   = minmax( yDiff / zonesize, 0, numside-1 );
    
				// Determine zone in SNr and create mapping back to CD

				SNRimin = izone * SNRsize; 
				SNRjmin = jzone * SNRsize;
				SNRimax = SNRimin + SNRsize;
				SNRjmax = SNRjmin + SNRsize;

				temparr[izone][jzone]++;
				for ( k=SNRimin; k&lt;SNRimax; k++ )
				{
					for ( l=SNRjmin; l&lt;SNRjmax; l++ )
					{
						// Check probability of CD neuron nslConnectecting to SNR
						// neuron.  The chance of a successful nslConnectection is
						// established by the user in the NSL DATA object
						// ConnectionChance.  By using nslConnectection probabilities,
						// we ensure a Different set of CD neurons project to
						// each of the SNR neurons in a specific zone.  Given
						// sufficient Difference between the sets of connectections
						// it should be possible to do remapping properly to
						// a single neuron in a SNR zone.
						if ((medbulk1.SNRMapCount_bulk.get(k,l) &lt; MaxConnections ) &amp;&amp; 
							(nslRandom() &lt; ConnectionChance) &amp;&amp; ptr&lt;MaxConnections) 
						{
							// This CD neuron gets nslConnectected to this SNR neuron.
							// Set next available mapping array element for all neurons
							// in this region of SNr to values in xmap and ymap.
							kindex = medbulk1.SNRMapCount_bulk.get(k,l);
							medbulk1.SNRMapCount_bulk.set(k,l,medbulk1.SNRMapCount_bulk.get(k,l)+1);
							medbulk1.SNRxmap_bulk.set(k,l,kindex,xmap[i][j][ptr]);
							medbulk1.SNRymap_bulk.set(k,l,kindex,ymap[i][j][ptr]);
							medbulk1.SNRweights_bulk.set(k,l,kindex,0);
						}
						ptr ++;
					}
				}
			}
		}
	}
	return 0;
}


public int OutputMapping(int[][][] xmap, int[][][] ymap) 
{
	//  This function accepts an x,y mapping from a cortical area to striatum and
	//  outputs the nslConnectections onto striatum as an array of 0s and 1s.
	int[][] arr = new int[StriatalArraySize][StriatalArraySize];
	int i, j, k;

	for ( i=0; i&lt;CorticalArraySize; i++ )
	{
		for ( j=0; j&lt;CorticalArraySize; j++ )
		{
			for ( k=0; k&lt;MaxConnections; k++ )
			{
				if ( ( xmap[i][j][k] &gt; 0 ) || ( ymap[i][j][k] &gt; 0 ) )
				{
					arr[xmap[i][j][k]][ymap[i][j][k]] = 1;
				}
			}
		}
	}
    
	return 0;
}

public int minmax( int int1, int sint, int lint )
{
	//  Ensures int1 is between sint and lint
	if ( int1 &lt; sint ) 
		return sint;
 
	if ( int1 &gt; lint ) 
		return lint;
    
	return int1;
}

public int MapToFovea( int iloc, int jloc ) 
{
	//  This function establishes the weights between CD and SNr for "learned"
	//  nslConnectections
	FEFsac_mirror = FEFsac_in;
	LIPmem_mirror = LIPmem_in;
	PFCgo_mirror = PFCgo_in;

	FEFsac_mirror[iloc][jloc] = 60;
	LIPmem_mirror[iloc][jloc] = 60;
	PFCgo_mirror[iloc][jloc]  = 60;

	//  Set CD excitation through xmap, ymap arrays for each cortical
	//  area

	func.SetCD( CDdirmedburst_out, medbulk1.FEFxmap_bulk, medbulk1.FEFymap_bulk, FEFsac_mirror );
	func.SetCD( CDdirmedburst_out, medbulk1.LIPxmap_bulk, medbulk1.LIPymap_bulk, LIPmem_mirror );
	func.SetCD( CDdirmedburst_out, medbulk1.PFCxmap_bulk, medbulk1.PFCymap_bulk, PFCgo_mirror );

	//  Learning:  match SNr location teaching signal
	//  with active neurons in CD and modify appropriate weight
	LearnWeights(medbulk1.SNRMapCount_bulk, medbulk1.SNRweights_bulk, medbulk1.SNRxmap_bulk, medbulk1.SNRymap_bulk, FOVEAX.get(), FOVEAY.get() );

	//  Reset FEF, PFC, LIP, and CD to 0
    	/* [Warning] Change input variable */
	FEFsac_mirror = 0;
	LIPmem_mirror = 0;
	PFCgo_mirror = 0;

	CDdirmedburst_out = 0;

	return 0;
}

public int MapToOffset( int iloc1, int jloc1, int iloc2, int jloc2 ) 
{
	//  This function establishes the weights between CD and SNr for "learned"
	//  nslConnectections

	int temp, ioff, joff;

	ioff = iloc2 - iloc1;
	joff = jloc2 - jloc1;
    
	//  Don't do mapping if the offset distance between the two targets is
	//  more than half the width of the array
	// some problem in placing a negative sign on a nsl numeric object
	// need refinement of nslj.src.math.Sub class
	if ( ( ioff &gt; FOVEAX ) || ( ioff &lt; -FOVEAX.get() ) )
		return 0;
	if ( ( joff &gt; FOVEAY ) || ( joff &lt; -FOVEAY.get() ) )
		return 0;

	FEFsac_mirror = FEFsac_in;
	LIPmem_mirror = LIPmem_in;
	PFCgo_mirror = PFCgo_in;

	LIPmem_mirror[iloc2][jloc2] = 60;
	PFCgo_mirror[iloc1][jloc1]  = 60;

	//  Set CD excitation through xmap, ymap arrays for each cortical
	//  area.  FEF not used for targets not selected for current saccade.
	//  Only use LIP and PFC go signal.
	temp = func.SetCD( CDdirmedburst_out, medbulk1.LIPxmap_bulk, medbulk1.LIPymap_bulk, LIPmem_mirror );
	temp = func.SetCD( CDdirmedburst_out, medbulk1.PFCxmap_bulk, medbulk1.PFCymap_bulk, PFCgo_mirror  );

	//  Learning:  match SNr location teaching signal
	//  with active neurons in CD and increment appropriate weights
	temp = LearnWeights(medbulk1.SNRMapCount_bulk,medbulk1.SNRweights_bulk,medbulk1.SNRxmap_bulk, medbulk1.SNRymap_bulk, ioff+FOVEAX.get(), joff+FOVEAY.get() );

	//  Reset PFC, LIP, and CD to 0
	LIPmem_mirror = 0;
	PFCgo_mirror = 0;
	CDdirmedburst_out = 0;

	return 0;
}

public int LearnWeights(NslInt2 SNRMapCount, NslDouble3 SNRweights, NslInt3 SNRxmap, NslInt3 SNRymap, int imap, int jmap ) 
{
	//  This function sets the nslConnectecting weights between active CD neurons and
	//  active SNR neurons.

	int k, xmaploc, ymaploc;

	for ( k=0; k&lt;SNRMapCount.get(imap,jmap); k++ ) 
	{
		// Check all CD neurons projecting to this SNR neuron to see
		// if they are active.  If so, increase the weight between them.
		xmaploc = SNRxmap.get(imap,jmap,k);
		ymaploc = SNRymap.get(imap,jmap,k);
        
		if ( CDdirmedburst_out.get(xmaploc,ymaploc) != 0 ) 
		{
			// Found a linkage.  Increase weight for activity, but decrease
			// if remap is wrong.  Errors caused by shared nslConnectections in CD.
			SNRweights.set(imap,jmap,k,(SNRweights.get(imap,jmap,k)+LearnRate.get()));
			SNRweights.set(imap,jmap,k,(SNRweights.get(imap,jmap,k)-Teacher.Check( imap, jmap )));
		}
	}

	return 0;
}


public void LearnConnections( _Element elem ) 
{
	int     temp;
	int     ii;
	_Element curelem;

	curelem = elem;

	while ( curelem != null ) 
	{
		for ( ii=0; ii&lt;NumberIterations; ii++ )
		{
			// Set cortical excitation
			SNRmedburst_out    = 0;
			CDdirmedburst_out  = 0;
			FEFsac_mirror         = 0;
			LIPmem_mirror         = 0;
			PFCgo_mirror          = 0;

			// Determine correct remappings for non-neural Teacher
			/* [warning] what is Teacher? */
			curelem.Remap( (int)CorticalArraySize, Teacher );

			// Increment weights between active CD neurons and SNR fovea
			temp = MapToFovea( curelem.X(), curelem.Y() );

			// Time to map the nonsaccade target as well
			FEFsac_mirror         = 0;
			LIPmem_mirror         = 0;
			PFCgo_mirror          = 0;
			CDdirmedburst_out = 0;

			// increment weights between active CD neurons and remapped location
			temp = MapToOffset( curelem.X(),  curelem.Y(), curelem.XO(), curelem.YO() );
		}

		curelem = curelem.Next();
	}

	return;
}

public void TestConnections( ) 
{
	_Element curelem;
	int ia, ja, temp;

	curelem = LearnedElements;

	while ( curelem != null &amp;&amp; curelem.X()!=-1 &amp;&amp; curelem.Y()!=-1)
	{
		LIPmem_mirror = 0; 
		FEFsac_mirror = 0; 
		PFCgo_mirror  = 0; 
		CDdirmedburst_out = 0; 
		SNRmedburst_out = 0;

		FEFsac_mirror[curelem.X()][curelem.Y()] = 60;
		LIPmem_mirror[curelem.X()][curelem.Y()] = 60;
		PFCgo_mirror[curelem.X()][curelem.Y()] = 60;
		LIPmem_mirror[curelem.XO()][curelem.YO()] = 60;

		// Propagate cortical activity to CD
		temp = func.SetCD( CDdirmedburst_out, medbulk1.FEFxmap_bulk, medbulk1.FEFymap_bulk, FEFsac_mirror );
		temp = func.SetCD(  CDdirmedburst_out, medbulk1.LIPxmap_bulk, medbulk1.LIPymap_bulk, LIPmem_mirror );
		temp = func.SetCD(  CDdirmedburst_out, medbulk1.PFCxmap_bulk, medbulk1.PFCymap_bulk, PFCgo_mirror );

		// Sum CD activity onto SNr through SNRxmap and SNRymap
		temp = SumCDtoSNR( CDdirmedburst_out, SNRmedburst_out );

		curelem = curelem.Next();
	}

	return;
}

public void DisplayCorticalNeuron( int[][] xarr, int[][] yarr, int max, int[][][] xmap, int[][][] ymap ) 
{
	//  Check the input cortical region to find if it projects to the
	//  neuron indicated by the xloc,yloc location

	int i, j, k,  xmaploc, ymaploc;

	for ( i=0; i&lt;CorticalArraySize; i++ )
	{
		for (j=0; j&lt;CorticalArraySize; j++ )
		{
			for ( k=0; k&lt;MaxConnections; k++ ) 
			{
				xmaploc = xmap[i][j][k]; 
				ymaploc = ymap[i][j][k];
			}
		}
	}
	return;
}

public void TestFoveaMapping( ) 
{
	//  Tests the mapping of a single target onto the fovea to see if extra
	//  mappings have also been established in the learning process

	_Element curelem;
	int ia, ja, temp;
	int jj=0;

	curelem = LearnedElements;

	while ( curelem != null &amp;&amp; curelem.X()!=-1 &amp;&amp; curelem.Y()!=-1)
	{
		LIPmem_mirror = 0; 
		FEFsac_mirror = 0; 
		PFCgo_mirror = 0; 
		CDdirmedburst_out = 0; 
		SNRmedburst_out = 0;

		FEFsac_mirror[curelem.X()][curelem.Y()] = 60;
		LIPmem_mirror[curelem.X()][curelem.Y()] = 60;
		PFCgo_mirror[curelem.X()][curelem.Y()] = 60;

		// Propagate cortical activity to CD
		func.SetCD( CDdirmedburst_out, medbulk1.FEFxmap_bulk, medbulk1.FEFymap_bulk, FEFsac_mirror );
		// see lib.h for this if ( true ) break;
		func.SetCD( CDdirmedburst_out, medbulk1.LIPxmap_bulk, medbulk1.LIPymap_bulk, LIPmem_mirror );
		func.SetCD( CDdirmedburst_out, medbulk1.PFCxmap_bulk, medbulk1.PFCymap_bulk, PFCgo_mirror );


		// Sum CD activity onto SNr through SNRxmap and SNRymap
		temp = SumCDtoSNR( CDdirmedburst_out, SNRmedburst_out );

		// Output SNR values for testing purposes
		curelem = curelem.Next();
	}
	return;
}


public int SumCDtoSNR (NslDouble2 CD, NslDouble2 SNR)
{
	return snrmedburst.SumCDtoSNR(CD, SNR);
}

/**** Menu items ****/
public void startNewElementList() 
{
	LearnedElements.Remove();
	UnlearnedElements.Remove();
}

public   void addNewRandomElementsToLearn() 
{
	int tmp = nslj.src.system.Console.readInt("Number of elements to add &gt; ");
	addNewRandomElementsToLearn(tmp);
}

public   void addNewRandomElementsToLearn(int num) 
{
	UnlearnedElements.AddRandomElements((int)(CorticalArraySize-1), num);
}

public   void addNewSpecifiedElementsToLearn() 
{
	int tmp = nslj.src.system.Console.readInt("Number of elements to add &gt; ");
	UnlearnedElements.AddSpecifiedElements((int)(CorticalArraySize-1), tmp );
}

public void addNewSpecifiedElementsToLearn(int x, int y, int xo, int yo) 
{
	UnlearnedElements.AddSpecifiedElements((int)(CorticalArraySize-1), x, y, xo, yo );
}

public  void learnNewElements() 
{
	LearnConnections(UnlearnedElements);
	LearnedElements.Merge( UnlearnedElements );
	UnlearnedElements.Remove();
}

public void testAllLearnedElements() 
{
	TestConnections( );
}  

public void displayLearnedAndUnlearnedElements() 
{
	nslprintln("Learned elements");
	nslprintln(LearnedElements);
	nslprintln("Unlearned elements");
	nslprintln(UnlearnedElements);
}

public void testFoveaMappingOnly() 
{
	TestFoveaMapping();
}

</methods>
	</nslm>
</module>
